<div class="container">
    <div [hidden]="submitted">
        <h3>Hero Form</h3>
        {{diagnostic}}
        <form #heroForm="ngForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="name">Name</label>
                <input type="text" class="form-control" formControlName="name">

                <!-- <div [hidden]="name.valid || name.pristine" class="alert alert-danger">Name is Required</div> -->
                <div *ngIf="name.invalid && ( name.dirty || name.touched)" class="alert alert-danger">
                    <div *ngIf="name.errors.required">
                        Name is Required
                    </div>

                    <div *ngIf="name.errors.minlength">
                        Name must be at least 4 characters long
                    </div>

                    <div *ngIf="name.errors.forbiddenName">
                        Name cannot be Bob
                    </div>

                    <div *ngIf="heroForm.errors?.identityRevealed && (heroForm.touched || heroForm.dirty)"
                        class="cross-validation-error-message alert alert-danger">
                        Name cannot match alter ego.
                    </div>

                </div>
                <br>
                Todo : {{spy.className}}
            </div>

            <div class="form-group">
                <label for="alterEgo">Alter Ego</label>
                <input type="text" class="form-control" formControlName="alterEgo">
            </div>

            <div class="form-group">
                <label for="power">Hero Power</label>
                <select id="power" class="form-control" required formControlName="power">
                    <option *ngFor="let power of powers" [value]="power">{{power}}</option>
                </select>
            </div>

            <button type="submit" class="btn btn-success" [disabled]="!heroForm.form.valid">Submit</button>
        </form>
    </div>

    <div [hidden]="!submitted">
        <h2>You submitted the following:</h2>
        <div class="row">
            <div class="col-xs-3">Name :</div>
            <div class="col-xs-9">{{ hero.name }}</div>
        </div>
        <div class="row">
            <div class="col-xs-3">Alter Ego : </div>
            <div class="col-xs-9">{{ hero.alterEgo }}</div>
        </div>
        <div class="row">
            <div class="col-xs-3">Power : </div>
            <div class="col-xs-9">{{ hero.power }}</div>
        </div>
        <br>
        <button class="btn btn-primary" (click)="submitted=false">Edit</button>
    </div>
    <button type="button" class="btn btn-default" (click)="newHero(); heroForm.reset()">New Hero</button>
</div>